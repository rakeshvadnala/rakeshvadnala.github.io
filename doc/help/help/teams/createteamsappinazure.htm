<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_SP__Side_Nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="Online">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Creating a Microsoft Teams Application for IdentityIQ in Azure</title>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../zresources/tablestyles/breadcrumb_table.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/arrow-left.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/arrow-right.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/icon-print-gray.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../zresources/stylesheets/iiq_stylesheet.css" rel="stylesheet" type="text/css" />
        <script src="../resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-device-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../iiqlandingpage.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../zresources/tablestyles/breadcrumb_table.css');" class="TableStyle-Breadcrumb_Table" cellspacing="0">
                                        <col class="TableStyle-Breadcrumb_Table-Column-Column1" />
                                        <col class="TableStyle-Breadcrumb_Table-Column-Column1" />
                                        <tbody>
                                            <tr class="TableStyle-Breadcrumb_Table-Body-Body1">
                                                <td class="TableStyle-Breadcrumb_Table-BodyB-Column1-Body1">
                                                    <div class="nocontent">
                                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="{title} topic link" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="TableStyle-Breadcrumb_Table-BodyA-Column1-Body1">
                                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent" style="mc-topic-toolbar-items: ;text-align: right;">
                                                        <div class="button-group-container-left">
                                                            <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                <img alt="Navigate previous" src="../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                            </button>
                                                            <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                <img alt="Navigate next" src="../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                            </button>
                                                            <button class="button needs-pie print-button" title="Print">
                                                                <img alt="Print" src="../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                            </button>
                                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                                <img alt="Expand all" src="../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                            </button>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div role="main" id="mc-main-content">
                                        <h1>Creating a Microsoft Teams Application for IdentityIQ in Azure</h1>
                                        <p>This Azure application defines the scope that can be used by the IdentityIQ Microsoft Teams Notifications feature. In this app, you define authentication parameters, set a client secret, and choose which Microsoft&#160;Graph API&#160;permissions to expose. You will use some values from this app in IdentityIQ, to ensure secure communication between IdentityIQ and Azure.</p>
                                        <p class="important">Details on how to configure Azure components are provided in this guide as an aid to implementers; however, implementers should also consult Microsoft's documentation on Azure and Microsoft Teams to ensure that they have the most accurate and up-to-date information on these platforms. This guide only discusses actions in Azure that are required as part IdentityIQ's Microsoft Teams Notifications feature, and does not discuss more general Azure concepts or actions that may be part of setting up&#160;Microsoft Teams and SSO&#160;for your organization.</p>
                                        <ol>
                                            <li value="1">
                                                <p>Navigate to your <b>Azure Active Directory</b> home.</p>
                                            </li>
                                            <li value="2">
                                                <p>In the left navigation, click <b>App registrations</b>.</p>
                                            </li>
                                            <li value="3">
                                                <p>Click <b>New Registration</b>.</p>
                                            </li>
                                            <li value="4">
                                                <p>Enter a <b>Name</b> for your application. When creating applications, it's a good idea to name them according to function; for example, <code>IdentityIQ&#160;Teams</code>.</p>
                                            </li>
                                            <li value="5">
                                                <p>Under <b>Supported account types</b>, choose the <b>Multitenant</b> option.</p>
                                            </li>
                                            <li value="6">
                                                <p>Click <b>Register</b></p>
                                            </li>
                                            <li value="7">
                                                <p>Configure an Authentication redirect URI:</p>
                                                <ol style="list-style-type: lower-alpha;">
                                                    <li value="1">
                                                        <p>In the left navigation, click <b>Authentication</b>.</p>
                                                    </li>
                                                    <li value="2">
                                                        <p>Click Add platform. </p>
                                                    </li>
                                                    <li value="3">
                                                        <p>In the <b>Configure Platforms</b> panel that opens at right, click the <b>Web</b> tile.</p>
                                                    </li>
                                                    <li value="4">
                                                        <p>Enter a <b>Redirect URIs</b>. Use the value <code>https://token.botframework.com/.auth/web/redirect</code> for the redirect .</p>
                                                    </li>
                                                    <li value="5">
                                                        <p>Under <b>Implicit grant and hybrid flows</b>, make sure both flows are checked.</p>
                                                    </li>
                                                    <li value="6">
                                                        <p><b>Save</b> your edits.</p>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li value="8">
                                                <p>Create a client secret for the application:</p>
                                                <ol style="list-style-type: lower-alpha;">
                                                    <li value="1">
                                                        <p>In the left navigation, click <b>Certificates and secrets</b>.</p>
                                                    </li>
                                                    <li value="2">
                                                        <p>Click <b>New client secret</b></p>
                                                    </li>
                                                    <li value="3">
                                                        <p>Add a <b>description</b> and <b>expiration date</b></p>
                                                    </li>
                                                    <li value="4">
                                                        <p>Click <b>Add</b></p>
                                                    </li>
                                                    <li value="5">
                                                        <p><b>IMPORTANT</b>:&#160;This is the only time the client secret is available to be copied. Use the copy icon to <b>copy and save the secret. </b> You will need the secret later, when creating your Azure bot, configuring the service code, and configuring IdentityIQ's integration properties.</p>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li value="9">
                                                <p>Configure the  API&#160;permissions for the application:&#160;</p>
                                                <ol style="list-style-type: lower-alpha;">
                                                    <li value="1">
                                                        <p>In the left navigation click <b>API permissions</b>.</p>
                                                    </li>
                                                    <li value="2">
                                                        <p>Click <b>Add a permission</b>.</p>
                                                    </li>
                                                    <li value="3">
                                                        <p>Under the <b>Microsoft APIs</b> tab, choose <b>Microsoft Graph</b> and select these options in the <b>Delegated Permissions</b> list:</p>
                                                        <ul>
                                                            <li>
                                                                <p><code>email</code>
                                                                </p>
                                                            </li>
                                                            <li>
                                                                <p><code>offline_access</code>
                                                                </p>
                                                            </li>
                                                            <li>
                                                                <p><code>openid</code>
                                                                </p>
                                                            </li>
                                                            <li>
                                                                <p><code>profile</code>
                                                                </p>
                                                            </li>
                                                        </ul>
                                                        <p>Then click <b>Add permissions</b>.</p>
                                                    </li>
                                                    <li value="4">
                                                        <p>In the left navigation click <b>API permissions</b>.</p>
                                                    </li>
                                                    <li value="5">
                                                        <p>Click <b>Add a permission</b>.</p>
                                                    </li>
                                                    <li value="6">
                                                        <p>Under the <b>My APIs</b> tab, choose the <b>API Application</b> you created earlier (as described in the <a href="teamstokenbasedauth.htm" class="MCXref xref">Creating an API&#160;Application in Azure</a> section). Select your <code>GetToken</code> permission and click <b>Add permissions</b>.</p>
                                                    </li>
                                                    <li value="7">
                                                        <p>The API permissions page now shows a list of the API permissions you have created. Check the <b>Grant admin consent for (<i>MyTenant</i>)</b>, where <i>MyTenant</i> is the name of your tenant. Then click <b>Yes</b> to confirm.</p>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li value="10">
                                                <p>In the left navigation, click <b>Expose an API</b> .</p>
                                            </li>
                                            <li value="11">
                                                <p>Click <b>Set</b> for the <b>Application ID URI</b>.</p>
                                            </li>
                                            <li value="12">
                                                <p>Edit the URI to add <code>botid-</code> immediately after the <code>api://</code> in the URI. Be sure to include the dash after <code>botid</code>. Click <b>Save</b>.</p>
                                            </li>
                                            <li value="13">
                                                <p>Click <b>Add a scope</b>. Give it a Scope name and choose Admins and users. Provide Admin and user content descriptions – these are messages that will appear to users if they need to give authorization.</p>
                                            </li>
                                            <li value="14">
                                                <p>Enter a <b>Scope name</b>, for example, <code>access_as_user</code>. </p>
                                            </li>
                                            <li value="15">
                                                <p>Add names and descriptions for <b>Admin consent</b> and <b>User consent</b>. </p>
                                            </li>
                                            <li value="16">
                                                <p>Make sure the state is <b>Enabled</b>.</p>
                                            </li>
                                            <li value="17">
                                                <p>Click <b>Add Scope</b> to save your changes.</p>
                                            </li>
                                            <li value="18">
                                                <p>Authorize desktop and mobile applications to use this application.</p>
                                                <ol style="list-style-type: lower-alpha;">
                                                    <li value="1">
                                                        <p>Click <b>Add a client application</b> </p>
                                                    </li>
                                                    <li value="2">
                                                        <p>For a Microsoft Teams web client, enter this value as the <b>Client ID</b><code>: 5e3ce6c0-2b1f-4285-8d4b-75ee78787346</code> . This value is provided by Microsoft; refer to Microsoft's documentation for details about the Client ID.</p>
                                                    </li>
                                                    <li value="3">
                                                        <p>Check the <b>Authorized scopes</b> option.</p>
                                                    </li>
                                                    <li value="4">
                                                        <p>Click <b>Add application</b>.</p>
                                                    </li>
                                                    <li value="5">
                                                        <p>Repeat steps 1-4 above, substituting this value in step 2:&#160;For a Microsoft Teams mobile &amp; desktop clients, enter this value as the <b>Client ID</b>: <code>1fec8e78-bce4-4aaf-ab1b-5451cc387264</code> . This value is provided by Microsoft; refer to Microsoft's documentation for details about the Client ID.</p>
                                                    </li>
                                                </ol>
                                            </li>
                                        </ol>
                                        <p>Once your Microsoft Teams application is configured, <b>copy and save the Application (client)&#160;ID value</b>. You will need this value later, when creating your Microsoft Teams bot and configuring IdentityIQ's integration with Microsoft Teams.</p>
                                        <p>For more information, see: </p>
                                        <ul>
                                            <li>
                                                <p><a href="createbotinazure.htm" class="MCXref xref">Creating an Azure Bot for IdentityIQ's Microsoft Teams Notifications</a>
                                                </p>
                                            </li>
                                            <li>
                                                <p><a href="configuration_azure_ad.htm" class="MCXref xref">Configuring IdentityIQ's Microsoft Azure Active Directory Application for Teams</a>
                                                </p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>